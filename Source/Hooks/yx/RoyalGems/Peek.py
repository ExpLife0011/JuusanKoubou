from ml import *

char = \
[
    32,
    33,
    34,
    38,
    39,
    40,
    41,
    42,
    44,
    45,
    46,
    47,
    48,
    49,
    50,
    51,
    52,
    53,
    54,
    55,
    56,
    57,
    58,
    59,
    63,
    65,
    66,
    67,
    68,
    69,
    70,
    71,
    72,
    73,
    74,
    75,
    76,
    77,
    78,
    79,
    80,
    81,
    82,
    83,
    84,
    85,
    86,
    87,
    88,
    89,
    90,
    92,
    95,
    96,
    97,
    98,
    99,
    100,
    101,
    102,
    103,
    104,
    105,
    106,
    107,
    108,
    109,
    110,
    111,
    112,
    113,
    114,
    115,
    116,
    117,
    118,
    119,
    120,
    121,
    122,
    168,
    170,
    171,
    173,
    180,
    183,
    184,
    187,
    192,
    193,
    194,
    195,
    196,
    197,
    198,
    199,
    200,
    201,
    202,
    203,
    204,
    205,
    206,
    207,
    208,
    209,
    210,
    211,
    212,
    213,
    214,
    215,
    216,
    217,
    218,
    219,
    220,
    221,
    222,
    223,
    224,
    225,
    226,
    227,
    228,
    229,
    230,
    231,
    232,
    233,
    234,
    235,
    236,
    237,
    238,
    239,
    240,
    241,
    242,
    243,
    244,
    245,
    246,
    247,
    248,
    249,
    250,
    251,
    252,
    253,
    254,
    255,
    305,
    339,
    352,
    353,
    376,
    381,
    382,
    710,
    711,
    728,
    729,
    730,
    731,
    732,
    733,
    1025,
    1027,
    1028,
    1029,
    1030,
    1031,
    1032,
    1036,
    1038,
    1040,
    1041,
    1042,
    1043,
    1044,
    1045,
    1046,
    1047,
    1048,
    1049,
    1050,
    1051,
    1052,
    1053,
    1054,
    1055,
    1056,
    1057,
    1058,
    1059,
    1060,
    1061,
    1062,
    1063,
    1064,
    1065,
    1066,
    1067,
    1068,
    1069,
    1070,
    1071,
    1072,
    1073,
    1074,
    1075,
    1076,
    1077,
    1078,
    1079,
    1080,
    1081,
    1082,
    1083,
    1084,
    1085,
    1086,
    1087,
    1088,
    1089,
    1090,
    1091,
    1092,
    1093,
    1094,
    1095,
    1096,
    1097,
    1098,
    1099,
    1100,
    1101,
    1102,
    1103,
    1105,
    1107,
    1108,
    1109,
    1110,
    1111,
    1112,
    1113,
    1118,
    1168,
    8211,
    8216,
    8217,
    8218,
    8220,
    8221,
    8222,
    8249,
    8250,
    8470,
]

def main():
    lang = ET.parse('en_lang.xml').getroot()

    xml = XMLCreate()

    charset = {}
    for ch in char:
        charset[chr(ch)] = True


    for x in lang:
        for y in x:
            id = y.attrib['id']
            jp = y.text

            if jp == None or jp == '':
                continue

            for ch in jp:
                charset[ch] = True

            if jp.isdigit():
                continue

            XMLAppendText(xml, jp, 'Id = "%s"' % id)

    XMLSaveTo(xml, 'royalgems.xml')
    open('charset.txt', 'wb').write(''.join(list(sorted(charset))).encode('U16'))

TryInvoke(main)
